var Hn=Object.defineProperty;var Nn=(e,t,n)=>t in e?Hn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var j=(e,t,n)=>(Nn(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function L(){}const Ye=e=>e;function at(e,t){for(const n in t)e[n]=t[n];return e}function Rn(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function Ke(e){return e()}function ke(){return Object.create(null)}function rt(e){e.forEach(Ke)}function Ot(e){return typeof e=="function"}function z(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Fn(e){return Object.keys(e).length===0}function Qe(e,...t){if(e==null)return L;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Wn(e){let t;return Qe(e,n=>t=n)(),t}function Kt(e,t,n,r){if(e){const i=Je(e,t,n,r);return e[0](i)}}function Je(e,t,n,r){return e[1]&&r?at(n.ctx.slice(),e[1](r(t))):n.ctx}function Qt(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(t.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(t.dirty.length,i.length);for(let l=0;l<o;l+=1)s[l]=t.dirty[l]|i[l];return s}return t.dirty|i}return t.dirty}function Jt(e,t,n,r,i,s){if(i){const o=Je(t,n,r,s);e.p(o,i)}}function Xt(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function Mt(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}const Xe=typeof window<"u";let Bn=Xe?()=>window.performance.now():()=>Date.now(),te=Xe?e=>requestAnimationFrame(e):L;const dt=new Set;function tn(e){dt.forEach(t=>{t.c(e)||(dt.delete(t),t.f())}),dt.size!==0&&te(tn)}function zn(e){let t;return dt.size===0&&te(tn),{promise:new Promise(n=>{dt.add(t={c:e,f:n})}),abort(){dt.delete(t)}}}function v(e,t){e.appendChild(t)}function en(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function qn(e){const t=S("style");return Zn(en(e),t),t.sheet}function Zn(e,t){return v(e.head||e,t),t.sheet}function A(e,t,n){e.insertBefore(t,n||null)}function T(e){e.parentNode&&e.parentNode.removeChild(e)}function ee(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function S(e){return document.createElement(e)}function Ce(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function B(e){return document.createTextNode(e)}function O(){return B(" ")}function gt(){return B("")}function U(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function m(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Un(e){return Array.from(e.childNodes)}function G(e,t){t=""+t,e.data!==t&&(e.data=t)}function Ee(e,t){e.value=t??""}function Gn(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function nn(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}function Lt(e,t){return new e(t)}const $t=new Map;let Tt=0;function Yn(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Kn(e,t){const n={stylesheet:qn(t),rules:{}};return $t.set(e,n),n}function Se(e,t,n,r,i,s,o,l=0){const a=16.666/r;let c=`{
`;for(let k=0;k<=1;k+=a){const b=t+(n-t)*s(k);c+=k*100+`%{${o(b,1-b)}}
`}const u=c+`100% {${o(n,1-n)}}
}`,f=`__svelte_${Yn(u)}_${l}`,p=en(e),{stylesheet:d,rules:h}=$t.get(p)||Kn(p,e);h[f]||(h[f]=!0,d.insertRule(`@keyframes ${f} ${u}`,d.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${f} ${r}ms linear ${i}ms 1 both`,Tt+=1,f}function Qn(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?s=>s.indexOf(t)<0:s=>s.indexOf("__svelte")===-1),i=n.length-r.length;i&&(e.style.animation=r.join(", "),Tt-=i,Tt||Jn())}function Jn(){te(()=>{Tt||($t.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&T(t)}),$t.clear())})}let wt;function tt(e){wt=e}function Ct(){if(!wt)throw new Error("Function called outside component initialization");return wt}function ne(e){Ct().$$.on_mount.push(e)}function rn(e){Ct().$$.after_update.push(e)}function Xn(e){Ct().$$.on_destroy.push(e)}function sn(){const e=Ct();return(t,n,{cancelable:r=!1}={})=>{const i=e.$$.callbacks[t];if(i){const s=nn(t,n,{cancelable:r});return i.slice().forEach(o=>{o.call(e,s)}),!s.defaultPrevented}return!0}}function Pe(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}const ft=[],W=[];let ht=[];const zt=[],on=Promise.resolve();let qt=!1;function an(){qt||(qt=!0,on.then(re))}function ln(){return an(),on}function kt(e){ht.push(e)}function un(e){zt.push(e)}const Ft=new Set;let ut=0;function re(){if(ut!==0)return;const e=wt;do{try{for(;ut<ft.length;){const t=ft[ut];ut++,tt(t),tr(t.$$)}}catch(t){throw ft.length=0,ut=0,t}for(tt(null),ft.length=0,ut=0;W.length;)W.pop()();for(let t=0;t<ht.length;t+=1){const n=ht[t];Ft.has(n)||(Ft.add(n),n())}ht.length=0}while(ft.length);for(;zt.length;)zt.pop()();qt=!1,Ft.clear(),tt(e)}function tr(e){if(e.fragment!==null){e.update(),rt(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(kt)}}function er(e){const t=[],n=[];ht.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),ht=t}let bt;function nr(){return bt||(bt=Promise.resolve(),bt.then(()=>{bt=null})),bt}function Wt(e,t,n){e.dispatchEvent(nn(`${t?"intro":"outro"}${n}`))}const Pt=new Set;let et;function it(){et={r:0,c:[],p:et}}function st(){et.r||rt(et.c),et=et.p}function M(e,t){e&&e.i&&(Pt.delete(e),e.i(t))}function $(e,t,n,r){if(e&&e.o){if(Pt.has(e))return;Pt.add(e),et.c.push(()=>{Pt.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const rr={duration:0};function Me(e,t,n,r){const i={direction:"both"};let s=t(e,n,i),o=r?0:1,l=null,a=null,c=null;function u(){c&&Qn(e,c)}function f(d,h){const g=d.b-o;return h*=Math.abs(g),{a:o,b:d.b,d:g,duration:h,start:d.start,end:d.start+h,group:d.group}}function p(d){const{delay:h=0,duration:g=300,easing:k=Ye,tick:b=L,css:E}=s||rr,C={start:Bn()+h,b:d};d||(C.group=et,et.r+=1),l||a?a=C:(E&&(u(),c=Se(e,o,d,g,h,k,E)),d&&b(0,1),l=f(C,g),kt(()=>Wt(e,d,"start")),zn(y=>{if(a&&y>a.start&&(l=f(a,g),a=null,Wt(e,l.b,"start"),E&&(u(),c=Se(e,o,l.b,l.duration,0,k,s.css))),l){if(y>=l.end)b(o=l.b,1-o),Wt(e,l.b,"end"),a||(l.b?u():--l.group.r||rt(l.group.c)),l=null;else if(y>=l.start){const w=y-l.start;o=l.a+l.d*k(w/l.duration),b(o,1-o)}}return!!(l||a)}))}return{run(d){Ot(s)?nr().then(()=>{s=s(i),p(d)}):p(d)},end(){u(),l=a=null}}}function Zt(e,t){const n=t.token={};function r(i,s,o,l){if(t.token!==n)return;t.resolved=l;let a=t.ctx;o!==void 0&&(a=a.slice(),a[o]=l);const c=i&&(t.current=i)(a);let u=!1;t.block&&(t.blocks?t.blocks.forEach((f,p)=>{p!==s&&f&&(it(),$(f,1,1,()=>{t.blocks[p]===f&&(t.blocks[p]=null)}),st())}):t.block.d(1),c.c(),M(c,1),c.m(t.mount(),t.anchor),u=!0),t.block=c,t.blocks&&(t.blocks[s]=c),u&&re()}if(Rn(e)){const i=Ct();if(e.then(s=>{tt(i),r(t.then,1,t.value,s),tt(null)},s=>{if(tt(i),r(t.catch,2,t.error,s),tt(null),!t.hasCatch)throw s}),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}}function cn(e,t,n){const r=t.slice(),{resolved:i}=e;e.current===e.then&&(r[e.value]=i),e.current===e.catch&&(r[e.error]=i),e.block.p(r,n)}function fn(e,t){const n={},r={},i={$$scope:1};let s=e.length;for(;s--;){const o=e[s],l=t[s];if(l){for(const a in o)a in l||(r[a]=1);for(const a in l)i[a]||(n[a]=l[a],i[a]=1);e[s]=l}else for(const a in o)i[a]=1}for(const o in r)o in n||(n[o]=void 0);return n}function dn(e){return typeof e=="object"&&e!==null?e:{}}function hn(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function F(e){e&&e.c()}function N(e,t,n,r){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),r||kt(()=>{const o=e.$$.on_mount.map(Ke).filter(Ot);e.$$.on_destroy?e.$$.on_destroy.push(...o):rt(o),e.$$.on_mount=[]}),s.forEach(kt)}function R(e,t){const n=e.$$;n.fragment!==null&&(er(n.after_update),rt(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ir(e,t){e.$$.dirty[0]===-1&&(ft.push(e),an(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function q(e,t,n,r,i,s,o,l=[-1]){const a=wt;tt(e);const c=e.$$={fragment:null,ctx:[],props:s,update:L,not_equal:i,bound:ke(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:ke(),dirty:l,skip_bound:!1,root:t.target||a.$$.root};o&&o(c.root);let u=!1;if(c.ctx=n?n(e,t.props||{},(f,p,...d)=>{const h=d.length?d[0]:p;return c.ctx&&i(c.ctx[f],c.ctx[f]=h)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](h),u&&ir(e,f)),p}):[],c.update(),u=!0,rt(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const f=Un(t.target);c.fragment&&c.fragment.l(f),f.forEach(T)}else c.fragment&&c.fragment.c();t.intro&&M(e.$$.fragment),N(e,t.target,t.anchor,t.customElement),re()}tt(a)}class Z{$destroy(){R(this,1),this.$destroy=L}$on(t,n){if(!Ot(n))return L;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Fn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ct=[];function pn(e,t){return{subscribe:ie(e,t).subscribe}}function ie(e,t=L){let n;const r=new Set;function i(l){if(z(e,l)&&(e=l,n)){const a=!ct.length;for(const c of r)c[1](),ct.push(c,e);if(a){for(let c=0;c<ct.length;c+=2)ct[c][0](ct[c+1]);ct.length=0}}}function s(l){i(l(e))}function o(l,a=L){const c=[l,a];return r.add(c),r.size===1&&(n=t(i)||L),l(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}function gn(e,t,n){const r=!Array.isArray(e),i=r?[e]:e,s=t.length<2;return pn(n,o=>{let l=!1;const a=[];let c=0,u=L;const f=()=>{if(c)return;u();const d=t(r?a[0]:a,o);s?o(d):u=Ot(d)?d:L},p=i.map((d,h)=>Qe(d,g=>{a[h]=g,c&=~(1<<h),l&&f()},()=>{c|=1<<h}));return l=!0,f(),function(){rt(p),u(),l=!1}})}function sr(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,s,o=[],l="",a=e.split("/");for(a[0]||a.shift();i=a.shift();)n=i[0],n==="*"?(o.push("wild"),l+="/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),l+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(l+=(~r?"?":"")+"\\"+i.substring(s))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}function or(e){let t,n,r;const i=[e[2]];var s=e[0];function o(l){let a={};for(let c=0;c<i.length;c+=1)a=at(a,i[c]);return{props:a}}return s&&(t=Lt(s,o()),t.$on("routeEvent",e[7])),{c(){t&&F(t.$$.fragment),n=gt()},m(l,a){t&&N(t,l,a),A(l,n,a),r=!0},p(l,a){const c=a&4?fn(i,[dn(l[2])]):{};if(a&1&&s!==(s=l[0])){if(t){it();const u=t;$(u.$$.fragment,1,0,()=>{R(u,1)}),st()}s?(t=Lt(s,o()),t.$on("routeEvent",l[7]),F(t.$$.fragment),M(t.$$.fragment,1),N(t,n.parentNode,n)):t=null}else s&&t.$set(c)},i(l){r||(t&&M(t.$$.fragment,l),r=!0)},o(l){t&&$(t.$$.fragment,l),r=!1},d(l){l&&T(n),t&&R(t,l)}}}function ar(e){let t,n,r;const i=[{params:e[1]},e[2]];var s=e[0];function o(l){let a={};for(let c=0;c<i.length;c+=1)a=at(a,i[c]);return{props:a}}return s&&(t=Lt(s,o()),t.$on("routeEvent",e[6])),{c(){t&&F(t.$$.fragment),n=gt()},m(l,a){t&&N(t,l,a),A(l,n,a),r=!0},p(l,a){const c=a&6?fn(i,[a&2&&{params:l[1]},a&4&&dn(l[2])]):{};if(a&1&&s!==(s=l[0])){if(t){it();const u=t;$(u.$$.fragment,1,0,()=>{R(u,1)}),st()}s?(t=Lt(s,o()),t.$on("routeEvent",l[6]),F(t.$$.fragment),M(t.$$.fragment,1),N(t,n.parentNode,n)):t=null}else s&&t.$set(c)},i(l){r||(t&&M(t.$$.fragment,l),r=!0)},o(l){t&&$(t.$$.fragment,l),r=!1},d(l){l&&T(n),t&&R(t,l)}}}function lr(e){let t,n,r,i;const s=[ar,or],o=[];function l(a,c){return a[1]?0:1}return t=l(e),n=o[t]=s[t](e),{c(){n.c(),r=gt()},m(a,c){o[t].m(a,c),A(a,r,c),i=!0},p(a,[c]){let u=t;t=l(a),t===u?o[t].p(a,c):(it(),$(o[u],1,1,()=>{o[u]=null}),st(),n=o[t],n?n.p(a,c):(n=o[t]=s[t](a),n.c()),M(n,1),n.m(r.parentNode,r))},i(a){i||(M(n),i=!0)},o(a){$(n),i=!1},d(a){o[t].d(a),a&&T(r)}}}function Le(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const se=pn(null,function(t){t(Le());const n=()=>{t(Le())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});gn(se,e=>e.location);gn(se,e=>e.querystring);const $e=ie(void 0);async function ur(){await ln(),window.history.back()}function cr(e){e?window.scrollTo(e.__svelte_spa_router_scrollX,e.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function fr(e,t,n){let{routes:r={}}=t,{prefix:i=""}=t,{restoreScrollState:s=!1}=t;class o{constructor(w,_){if(!_||typeof _!="function"&&(typeof _!="object"||_._sveltesparouter!==!0))throw Error("Invalid component object");if(!w||typeof w=="string"&&(w.length<1||w.charAt(0)!="/"&&w.charAt(0)!="*")||typeof w=="object"&&!(w instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:x,keys:V}=sr(w);this.path=w,typeof _=="object"&&_._sveltesparouter===!0?(this.component=_.component,this.conditions=_.conditions||[],this.userData=_.userData,this.props=_.props||{}):(this.component=()=>Promise.resolve(_),this.conditions=[],this.props={}),this._pattern=x,this._keys=V}match(w){if(i){if(typeof i=="string")if(w.startsWith(i))w=w.substr(i.length)||"/";else return null;else if(i instanceof RegExp){const H=w.match(i);if(H&&H[0])w=w.substr(H[0].length)||"/";else return null}}const _=this._pattern.exec(w);if(_===null)return null;if(this._keys===!1)return _;const x={};let V=0;for(;V<this._keys.length;){try{x[this._keys[V]]=decodeURIComponent(_[V+1]||"")||null}catch{x[this._keys[V]]=null}V++}return x}async checkConditions(w){for(let _=0;_<this.conditions.length;_++)if(!await this.conditions[_](w))return!1;return!0}}const l=[];r instanceof Map?r.forEach((y,w)=>{l.push(new o(w,y))}):Object.keys(r).forEach(y=>{l.push(new o(y,r[y]))});let a=null,c=null,u={};const f=sn();async function p(y,w){await ln(),f(y,w)}let d=null,h=null;s&&(h=y=>{y.state&&(y.state.__svelte_spa_router_scrollY||y.state.__svelte_spa_router_scrollX)?d=y.state:d=null},window.addEventListener("popstate",h),rn(()=>{cr(d)}));let g=null,k=null;const b=se.subscribe(async y=>{g=y;let w=0;for(;w<l.length;){const _=l[w].match(y.location);if(!_){w++;continue}const x={route:l[w].path,location:y.location,querystring:y.querystring,userData:l[w].userData,params:_&&typeof _=="object"&&Object.keys(_).length?_:null};if(!await l[w].checkConditions(x)){n(0,a=null),k=null,p("conditionsFailed",x);return}p("routeLoading",Object.assign({},x));const V=l[w].component;if(k!=V){V.loading?(n(0,a=V.loading),k=V,n(1,c=V.loadingParams),n(2,u={}),p("routeLoaded",Object.assign({},x,{component:a,name:a.name,params:c}))):(n(0,a=null),k=null);const H=await V();if(y!=g)return;n(0,a=H&&H.default||H),k=V}_&&typeof _=="object"&&Object.keys(_).length?n(1,c=_):n(1,c=null),n(2,u=l[w].props),p("routeLoaded",Object.assign({},x,{component:a,name:a.name,params:c})).then(()=>{$e.set(c)});return}n(0,a=null),k=null,$e.set(void 0)});Xn(()=>{b(),h&&window.removeEventListener("popstate",h)});function E(y){Pe.call(this,e,y)}function C(y){Pe.call(this,e,y)}return e.$$set=y=>{"routes"in y&&n(3,r=y.routes),"prefix"in y&&n(4,i=y.prefix),"restoreScrollState"in y&&n(5,s=y.restoreScrollState)},e.$$.update=()=>{e.$$.dirty&32&&(history.scrollRestoration=s?"manual":"auto")},[a,c,u,r,i,s,E,C]}class dr extends Z{constructor(t){super(),q(this,t,fr,lr,z,{routes:3,prefix:4,restoreScrollState:5})}}function hr(e){let t,n,r,i,s,o,l,a,c,u,f,p,d,h,g,k,b,E;return{c(){t=S("nav"),n=S("h3"),n.textContent="Echo",r=O(),i=S("div"),s=S("button"),s.innerHTML='<svg width="31" height="36" viewBox="0 0 31 36" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-adm4et"><path d="M17.7143 0V35.4286H22.1429V0H17.7143ZM8.85714 4.42857V31H13.2857V4.42857H8.85714ZM26.5714 8.85714V26.5714H31V8.85714H26.5714ZM0 13.2857V22.1429H4.42857V13.2857H0Z" fill="currentColor"></path></svg>',o=O(),l=S("button"),l.innerHTML='<svg width="29" height="34" viewBox="0 0 29 34" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-adm4et"><path d="M0 0V33.1429H29V16.5714H12.4286V0H0ZM16.5714 0V12.4286H29L16.5714 0Z" fill="currentColor"></path></svg>',a=O(),c=S("button"),c.innerHTML='<svg width="35" height="31" viewBox="0 0 35 31" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-adm4et"><path d="M0 0V13.125H13.125V0H0ZM17.5 0V4.375H35V0H17.5ZM17.5 8.75V13.125H30.625V8.75H17.5ZM0 17.5V30.625H13.125V17.5H0ZM17.5 17.5V21.875H35V17.5H17.5ZM17.5 26.25V30.625H30.625V26.25H17.5Z" fill="currentColor"></path></svg>',u=O(),f=S("button"),f.innerHTML='<svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-adm4et"><path d="M17 0C7.6075 0 0 7.6075 0 17C0 26.3925 7.6075 34 17 34C26.3925 34 34 26.3925 34 17C34 7.6075 26.3925 0 17 0ZM12.75 8.5L25.5 17L12.75 25.5V8.5Z" fill="currentColor"></path></svg>',p=O(),d=S("div"),h=S("button"),h.innerHTML='<svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-adm4et"><path d="M14.8803 0L12.7606 5.04489C12.3367 5.17207 11.9551 5.38404 11.5736 5.59601L6.52868 3.47631L3.47631 6.52868L5.59601 11.5736C5.38404 11.9975 5.21446 12.3367 5.04489 12.7606L0 14.8803V19.1197L5.04489 21.2394C5.21446 21.6633 5.38404 22.0025 5.59601 22.4264L3.47631 27.4713L6.52868 30.5237L11.5736 28.404C11.9551 28.5736 12.3367 28.7855 12.7606 28.9551L14.8803 34H19.1197L21.2394 28.9551C21.6209 28.7855 22.0449 28.616 22.4264 28.404L27.4713 30.5237L30.5237 27.4713L28.404 22.4264C28.5736 22.0449 28.7855 21.6209 28.9551 21.2394L34 19.1197V14.8803L28.9551 12.7606C28.8279 12.3791 28.616 11.9551 28.404 11.5736L30.5237 6.52868L27.4713 3.47631L22.4264 5.59601C22.0449 5.42643 21.6209 5.21446 21.2394 5.04489L19.1197 0L14.8803 0ZM17 10.5985C20.5187 10.5985 23.3591 13.4389 23.3591 16.9576C23.3591 20.4763 20.5187 23.3167 17 23.3167C13.4813 23.3167 10.6409 20.4763 10.6409 16.9576C10.6409 13.4389 13.4813 10.5985 17 10.5985Z" fill="currentColor"></path></svg>',g=O(),k=S("button"),k.innerHTML='<svg width="34" height="30" viewBox="0 0 34 30" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-adm4et"><path d="M12.6039 0V4.20131H29.4092V25.2079H12.6039V29.4092H33.6105V0H12.6039ZM8.40262 8.40262L0 14.7046L8.40262 21.0066V16.8052H25.2079V12.6039H8.40262V8.40262Z" fill="currentColor"></path></svg>',m(s,"class","nav-item svelte-adm4et"),m(l,"class","nav-item svelte-adm4et"),m(c,"class","nav-item svelte-adm4et"),m(f,"class","nav-item svelte-adm4et"),m(h,"class","nav-item svelte-adm4et"),m(k,"class","nav-item svelte-adm4et"),m(d,"id","bottom"),m(d,"class","svelte-adm4et"),m(t,"class","middleground svelte-adm4et")},m(C,y){A(C,t,y),v(t,n),v(t,r),v(t,i),v(i,s),e[4](s),v(i,o),v(i,l),e[6](l),v(i,a),v(i,c),e[8](c),v(i,u),v(i,f),e[10](f),v(t,p),v(t,d),v(d,h),e[12](h),v(d,g),v(d,k),b||(E=[U(s,"click",e[3]),U(l,"click",e[5]),U(c,"click",e[7]),U(f,"click",e[9]),U(h,"click",e[11]),U(k,"click",e[13])],b=!0)},p:L,i:L,o:L,d(C){C&&T(t),e[4](null),e[6](null),e[8](null),e[10](null),e[12](null),b=!1,rt(E)}}}function pr(e,t,n){let{selected:r=0}=t,i=[];function s(b){i[r].classList.remove("tab-selected"),n(2,r=b),i[b].classList.add("tab-selected")}ne(()=>{i[0].classList.add("tab-selected")});const o=()=>s(0);function l(b){W[b?"unshift":"push"](()=>{i[0]=b,n(0,i)})}const a=()=>s(1);function c(b){W[b?"unshift":"push"](()=>{i[1]=b,n(0,i)})}const u=()=>s(2);function f(b){W[b?"unshift":"push"](()=>{i[2]=b,n(0,i)})}const p=()=>s(3);function d(b){W[b?"unshift":"push"](()=>{i[3]=b,n(0,i)})}const h=()=>s(4);function g(b){W[b?"unshift":"push"](()=>{i[4]=b,n(0,i)})}const k=()=>ur();return e.$$set=b=>{"selected"in b&&n(2,r=b.selected)},[i,s,r,o,l,a,c,u,f,p,d,h,g,k]}class gr extends Z{constructor(t){super(),q(this,t,pr,hr,z,{selected:2})}}var Ut=(e=>(e.File="Audio File",e))(Ut||{});const mr=new Map().set("Audio File",()=>new mn);class mn{constructor(){j(this,"file");j(this,"type","Audio File")}async play(){}}class vr{constructor(t){j(this,"identifier");j(this,"source");j(this,"displayName");j(this,"volume");j(this,"speed");this.identifier=t.identifier,this.source=new mn,this.source.file=t.file_name,this.displayName=this.source.file,this.volume=t.volume,this.speed=t.speed}}class Te{constructor(t){j(this,"title");j(this,"description");j(this,"project_id");j(this,"scenes");j(this,"sound_cues");this.title=t.title,this.description=t.description,this.project_id=t.project_id,this.scenes=t.scenes.map(n=>new br(n)),this.sound_cues=t.sound_cues.map(n=>new vr(n))}}class _r{constructor(t){j(this,"cues");j(this,"notes");j(this,"time");this.cues=t.cues,this.notes=t.notes,this.time=new yr(t.time)}}class br{constructor(t){j(this,"name");j(this,"events");this.name=t.name,this.events=t.events.map(n=>new _r(n))}}class yr{constructor(t){j(this,"hours");j(this,"minutes");j(this,"seconds");this.hours=t.hours,this.minutes=t.minutes,this.seconds=t.seconds}}function wr(e){let t,n,r,i,s,o,l,a,c,u;const f=e[3].default,p=Kt(f,e,e[2],null);return{c(){t=S("div"),n=S("div"),r=S("span"),i=B(e[0]),s=O(),o=S("h2"),l=B(e[1]),a=O(),c=S("div"),p&&p.c(),m(r,"class","svelte-1dk8l2j"),m(o,"class","svelte-1dk8l2j"),m(n,"id","title"),m(n,"class","svelte-1dk8l2j"),m(c,"id","tail"),m(c,"class","svelte-1dk8l2j"),m(t,"class","title-bar middleground svelte-1dk8l2j")},m(d,h){A(d,t,h),v(t,n),v(n,r),v(r,i),v(n,s),v(n,o),v(o,l),v(t,a),v(t,c),p&&p.m(c,null),u=!0},p(d,[h]){(!u||h&1)&&G(i,d[0]),(!u||h&2)&&G(l,d[1]),p&&p.p&&(!u||h&4)&&Jt(p,f,d,d[2],u?Qt(f,d[2],h,null):Xt(d[2]),null)},i(d){u||(M(p,d),u=!0)},o(d){$(p,d),u=!1},d(d){d&&T(t),p&&p.d(d)}}}function kr(e,t,n){let{$$slots:r={},$$scope:i}=t,{subTitle:s="Project Name"}=t,{title:o="Sound Cues"}=t;return e.$$set=l=>{"subTitle"in l&&n(0,s=l.subTitle),"title"in l&&n(1,o=l.title),"$$scope"in l&&n(2,i=l.$$scope)},[s,o,i,r]}class vn extends Z{constructor(t){super(),q(this,t,kr,wr,z,{subTitle:0,title:1})}}function Cr(e){let t,n,r,i,s,o,l;const a=e[3].default,c=Kt(a,e,e[2],null);return{c(){t=S("div"),n=S("span"),r=B(e[0]),i=O(),c&&c.c(),m(n,"class","svelte-q174t6"),m(t,"class",s="SoundCueProp "+e[1].class+" svelte-q174t6"),m(t,"id",o=e[1].id)},m(u,f){A(u,t,f),v(t,n),v(n,r),v(t,i),c&&c.m(t,null),l=!0},p(u,[f]){(!l||f&1)&&G(r,u[0]),c&&c.p&&(!l||f&4)&&Jt(c,a,u,u[2],l?Qt(a,u[2],f,null):Xt(u[2]),null),(!l||f&2&&s!==(s="SoundCueProp "+u[1].class+" svelte-q174t6"))&&m(t,"class",s),(!l||f&2&&o!==(o=u[1].id))&&m(t,"id",o)},i(u){l||(M(c,u),l=!0)},o(u){$(c,u),l=!1},d(u){u&&T(t),c&&c.d(u)}}}function Er(e,t,n){let{$$slots:r={},$$scope:i}=t,{propName:s}=t;return e.$$set=o=>{n(1,t=at(at({},t),Mt(o))),"propName"in o&&n(0,s=o.propName),"$$scope"in o&&n(2,i=o.$$scope)},t=Mt(t),[s,t,i,r]}class Ae extends Z{constructor(t){super(),q(this,t,Er,Cr,z,{propName:0})}}function Ve(e,{delay:t=0,duration:n=400,easing:r=Ye}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:s=>`opacity: ${s*i}`}}var _n={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},oe={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},Sr=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],At={CSS:{},springs:{}};function Q(e,t,n){return Math.min(Math.max(e,t),n)}function yt(e,t){return e.indexOf(t)>-1}function Bt(e,t){return e.apply(null,t)}var P={arr:function(e){return Array.isArray(e)},obj:function(e){return yt(Object.prototype.toString.call(e),"Object")},pth:function(e){return P.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||P.svg(e)},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},nil:function(e){return P.und(e)||e===null},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return P.hex(e)||P.rgb(e)||P.hsl(e)},key:function(e){return!_n.hasOwnProperty(e)&&!oe.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function bn(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(n){return parseFloat(n)}):[]}function yn(e,t){var n=bn(e),r=Q(P.und(n[0])?1:n[0],.1,100),i=Q(P.und(n[1])?100:n[1],.1,100),s=Q(P.und(n[2])?10:n[2],.1,100),o=Q(P.und(n[3])?0:n[3],.1,100),l=Math.sqrt(i/r),a=s/(2*Math.sqrt(i*r)),c=a<1?l*Math.sqrt(1-a*a):0,u=1,f=a<1?(a*l+-o)/c:-o+l;function p(h){var g=t?t*h/1e3:h;return a<1?g=Math.exp(-g*a*l)*(u*Math.cos(c*g)+f*Math.sin(c*g)):g=(u+f*g)*Math.exp(-g*l),h===0||h===1?h:1-g}function d(){var h=At.springs[e];if(h)return h;for(var g=1/6,k=0,b=0;;)if(k+=g,p(k)===1){if(b++,b>=16)break}else b=0;var E=k*g*1e3;return At.springs[e]=E,E}return t?p:d}function Pr(e){return e===void 0&&(e=10),function(t){return Math.ceil(Q(t,1e-6,1)*e)*(1/e)}}var Mr=function(){var e=11,t=1/(e-1);function n(u,f){return 1-3*f+3*u}function r(u,f){return 3*f-6*u}function i(u){return 3*u}function s(u,f,p){return((n(f,p)*u+r(f,p))*u+i(f))*u}function o(u,f,p){return 3*n(f,p)*u*u+2*r(f,p)*u+i(f)}function l(u,f,p,d,h){var g,k,b=0;do k=f+(p-f)/2,g=s(k,d,h)-u,g>0?p=k:f=k;while(Math.abs(g)>1e-7&&++b<10);return k}function a(u,f,p,d){for(var h=0;h<4;++h){var g=o(f,p,d);if(g===0)return f;var k=s(f,p,d)-u;f-=k/g}return f}function c(u,f,p,d){if(!(0<=u&&u<=1&&0<=p&&p<=1))return;var h=new Float32Array(e);if(u!==f||p!==d)for(var g=0;g<e;++g)h[g]=s(g*t,u,p);function k(b){for(var E=0,C=1,y=e-1;C!==y&&h[C]<=b;++C)E+=t;--C;var w=(b-h[C])/(h[C+1]-h[C]),_=E+w*t,x=o(_,u,p);return x>=.001?a(b,_,u,p):x===0?_:l(b,E,E+t,u,p)}return function(b){return u===f&&p===d||b===0||b===1?b:s(k(b),f,d)}}return c}(),wn=function(){var e={linear:function(){return function(r){return r}}},t={Sine:function(){return function(r){return 1-Math.cos(r*Math.PI/2)}},Circ:function(){return function(r){return 1-Math.sqrt(1-r*r)}},Back:function(){return function(r){return r*r*(3*r-2)}},Bounce:function(){return function(r){for(var i,s=4;r<((i=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((i*3-2)/22-r,2)}},Elastic:function(r,i){r===void 0&&(r=1),i===void 0&&(i=.5);var s=Q(r,1,10),o=Q(i,.1,2);return function(l){return l===0||l===1?l:-s*Math.pow(2,10*(l-1))*Math.sin((l-1-o/(Math.PI*2)*Math.asin(1/s))*(Math.PI*2)/o)}}},n=["Quad","Cubic","Quart","Quint","Expo"];return n.forEach(function(r,i){t[r]=function(){return function(s){return Math.pow(s,i+2)}}}),Object.keys(t).forEach(function(r){var i=t[r];e["easeIn"+r]=i,e["easeOut"+r]=function(s,o){return function(l){return 1-i(s,o)(1-l)}},e["easeInOut"+r]=function(s,o){return function(l){return l<.5?i(s,o)(l*2)/2:1-i(s,o)(l*-2+2)/2}},e["easeOutIn"+r]=function(s,o){return function(l){return l<.5?(1-i(s,o)(1-l*2))/2:(i(s,o)(l*2-1)+1)/2}}}),e}();function ae(e,t){if(P.fnc(e))return e;var n=e.split("(")[0],r=wn[n],i=bn(e);switch(n){case"spring":return yn(e,t);case"cubicBezier":return Bt(Mr,i);case"steps":return Bt(Pr,i);default:return Bt(r,i)}}function kn(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function xt(e,t){for(var n=e.length,r=arguments.length>=2?arguments[1]:void 0,i=[],s=0;s<n;s++)if(s in e){var o=e[s];t.call(r,o,s,e)&&i.push(o)}return i}function Dt(e){return e.reduce(function(t,n){return t.concat(P.arr(n)?Dt(n):n)},[])}function Oe(e){return P.arr(e)?e:(P.str(e)&&(e=kn(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function le(e,t){return e.some(function(n){return n===t})}function ue(e){var t={};for(var n in e)t[n]=e[n];return t}function Gt(e,t){var n=ue(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function It(e,t){var n=ue(e);for(var r in t)n[r]=P.und(e[r])?t[r]:e[r];return n}function Lr(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function $r(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=e.replace(t,function(l,a,c,u){return a+a+c+c+u+u}),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),i=parseInt(r[1],16),s=parseInt(r[2],16),o=parseInt(r[3],16);return"rgba("+i+","+s+","+o+",1)"}function Tr(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),n=parseInt(t[1],10)/360,r=parseInt(t[2],10)/100,i=parseInt(t[3],10)/100,s=t[4]||1;function o(p,d,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?p+(d-p)*6*h:h<1/2?d:h<2/3?p+(d-p)*(2/3-h)*6:p}var l,a,c;if(r==0)l=a=c=i;else{var u=i<.5?i*(1+r):i+r-i*r,f=2*i-u;l=o(f,u,n+1/3),a=o(f,u,n),c=o(f,u,n-1/3)}return"rgba("+l*255+","+a*255+","+c*255+","+s+")"}function Ar(e){if(P.rgb(e))return Lr(e);if(P.hex(e))return $r(e);if(P.hsl(e))return Tr(e)}function nt(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function Vr(e){if(yt(e,"translate")||e==="perspective")return"px";if(yt(e,"rotate")||yt(e,"skew"))return"deg"}function Yt(e,t){return P.fnc(e)?e(t.target,t.id,t.total):e}function J(e,t){return e.getAttribute(t)}function ce(e,t,n){var r=nt(t);if(le([n,"deg","rad","turn"],r))return t;var i=At.CSS[t+n];if(!P.und(i))return i;var s=100,o=document.createElement(e.tagName),l=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;l.appendChild(o),o.style.position="absolute",o.style.width=s+n;var a=s/o.offsetWidth;l.removeChild(o);var c=a*parseFloat(t);return At.CSS[t+n]=c,c}function Cn(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?ce(e,i,n):i}}function fe(e,t){if(P.dom(e)&&!P.inp(e)&&(!P.nil(J(e,t))||P.svg(e)&&e[t]))return"attribute";if(P.dom(e)&&le(Sr,t))return"transform";if(P.dom(e)&&t!=="transform"&&Cn(e,t))return"css";if(e[t]!=null)return"object"}function En(e){if(P.dom(e)){for(var t=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,r=new Map,i;i=n.exec(t);)r.set(i[1],i[2]);return r}}function Or(e,t,n,r){var i=yt(t,"scale")?1:0+Vr(t),s=En(e).get(t)||i;return n&&(n.transforms.list.set(t,s),n.transforms.last=t),r?ce(e,s,r):s}function de(e,t,n,r){switch(fe(e,t)){case"transform":return Or(e,t,r,n);case"css":return Cn(e,t,n);case"attribute":return J(e,t);default:return e[t]||0}}function he(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var r=nt(e)||0,i=parseFloat(t),s=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return i+s+r;case"-":return i-s+r;case"*":return i*s+r}}function Sn(e,t){if(P.col(e))return Ar(e);if(/\s/g.test(e))return e;var n=nt(e),r=n?e.substr(0,e.length-n.length):e;return t?r+t:r}function pe(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function xr(e){return Math.PI*2*J(e,"r")}function Dr(e){return J(e,"width")*2+J(e,"height")*2}function Ir(e){return pe({x:J(e,"x1"),y:J(e,"y1")},{x:J(e,"x2"),y:J(e,"y2")})}function Pn(e){for(var t=e.points,n=0,r,i=0;i<t.numberOfItems;i++){var s=t.getItem(i);i>0&&(n+=pe(r,s)),r=s}return n}function jr(e){var t=e.points;return Pn(e)+pe(t.getItem(t.numberOfItems-1),t.getItem(0))}function Mn(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return xr(e);case"rect":return Dr(e);case"line":return Ir(e);case"polyline":return Pn(e);case"polygon":return jr(e)}}function Hr(e){var t=Mn(e);return e.setAttribute("stroke-dasharray",t),t}function Nr(e){for(var t=e.parentNode;P.svg(t)&&P.svg(t.parentNode);)t=t.parentNode;return t}function Ln(e,t){var n=t||{},r=n.el||Nr(e),i=r.getBoundingClientRect(),s=J(r,"viewBox"),o=i.width,l=i.height,a=n.viewBox||(s?s.split(" "):[0,0,o,l]);return{el:r,viewBox:a,x:a[0]/1,y:a[1]/1,w:o,h:l,vW:a[2],vH:a[3]}}function Rr(e,t){var n=P.str(e)?kn(e)[0]:e,r=t||100;return function(i){return{property:i,el:n,svg:Ln(n),totalLength:Mn(n)*(r/100)}}}function Fr(e,t,n){function r(u){u===void 0&&(u=0);var f=t+u>=1?t+u:0;return e.el.getPointAtLength(f)}var i=Ln(e.el,e.svg),s=r(),o=r(-1),l=r(1),a=n?1:i.w/i.vW,c=n?1:i.h/i.vH;switch(e.property){case"x":return(s.x-i.x)*a;case"y":return(s.y-i.y)*c;case"angle":return Math.atan2(l.y-o.y,l.x-o.x)*180/Math.PI}}function xe(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=Sn(P.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:P.str(e)||t?r.split(n):[]}}function ge(e){var t=e?Dt(P.arr(e)?e.map(Oe):Oe(e)):[];return xt(t,function(n,r,i){return i.indexOf(n)===r})}function $n(e){var t=ge(e);return t.map(function(n,r){return{target:n,id:r,total:t.length,transforms:{list:En(n)}}})}function Wr(e,t){var n=ue(t);if(/^spring/.test(n.easing)&&(n.duration=yn(n.easing)),P.arr(e)){var r=e.length,i=r===2&&!P.obj(e[0]);i?e={value:e}:P.fnc(t.duration)||(n.duration=t.duration/r)}var s=P.arr(e)?e:[e];return s.map(function(o,l){var a=P.obj(o)&&!P.pth(o)?o:{value:o};return P.und(a.delay)&&(a.delay=l?0:t.delay),P.und(a.endDelay)&&(a.endDelay=l===s.length-1?t.endDelay:0),a}).map(function(o){return It(o,n)})}function Br(e){for(var t=xt(Dt(e.map(function(s){return Object.keys(s)})),function(s){return P.key(s)}).reduce(function(s,o){return s.indexOf(o)<0&&s.push(o),s},[]),n={},r=function(s){var o=t[s];n[o]=e.map(function(l){var a={};for(var c in l)P.key(c)?c==o&&(a.value=l[c]):a[c]=l[c];return a})},i=0;i<t.length;i++)r(i);return n}function zr(e,t){var n=[],r=t.keyframes;r&&(t=It(Br(r),t));for(var i in t)P.key(i)&&n.push({name:i,tweens:Wr(t[i],e)});return n}function qr(e,t){var n={};for(var r in e){var i=Yt(e[r],t);P.arr(i)&&(i=i.map(function(s){return Yt(s,t)}),i.length===1&&(i=i[0])),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function Zr(e,t){var n;return e.tweens.map(function(r){var i=qr(r,t),s=i.value,o=P.arr(s)?s[1]:s,l=nt(o),a=de(t.target,e.name,l,t),c=n?n.to.original:a,u=P.arr(s)?s[0]:c,f=nt(u)||nt(a),p=l||f;return P.und(o)&&(o=c),i.from=xe(u,p),i.to=xe(he(o,u),p),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=ae(i.easing,i.duration),i.isPath=P.pth(s),i.isPathTargetInsideSVG=i.isPath&&P.svg(t.target),i.isColor=P.col(i.from.original),i.isColor&&(i.round=1),n=i,i})}var Tn={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,i){if(r.list.set(t,n),t===r.last||i){var s="";r.list.forEach(function(o,l){s+=l+"("+o+") "}),e.style.transform=s}}};function An(e,t){var n=$n(e);n.forEach(function(r){for(var i in t){var s=Yt(t[i],r),o=r.target,l=nt(s),a=de(o,i,l,r),c=l||nt(a),u=he(Sn(s,c),a),f=fe(o,i);Tn[f](o,i,u,r.transforms,!0)}})}function Ur(e,t){var n=fe(e.target,t.name);if(n){var r=Zr(t,e),i=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}function Gr(e,t){return xt(Dt(e.map(function(n){return t.map(function(r){return Ur(n,r)})})),function(n){return!P.und(n)})}function Vn(e,t){var n=e.length,r=function(s){return s.timelineOffset?s.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,e.map(function(s){return r(s)+s.duration})):t.duration,i.delay=n?Math.min.apply(Math,e.map(function(s){return r(s)+s.delay})):t.delay,i.endDelay=n?i.duration-Math.max.apply(Math,e.map(function(s){return r(s)+s.duration-s.endDelay})):t.endDelay,i}var De=0;function Yr(e){var t=Gt(_n,e),n=Gt(oe,e),r=zr(n,e),i=$n(e.targets),s=Gr(i,r),o=Vn(s,n),l=De;return De++,It(t,{id:l,children:[],animatables:i,animations:s,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}var K=[],On=function(){var e;function t(){!e&&(!Ie()||!I.suspendWhenDocumentHidden)&&K.length>0&&(e=requestAnimationFrame(n))}function n(i){for(var s=K.length,o=0;o<s;){var l=K[o];l.paused?(K.splice(o,1),s--):(l.tick(i),o++)}e=o>0?requestAnimationFrame(n):void 0}function r(){I.suspendWhenDocumentHidden&&(Ie()?e=cancelAnimationFrame(e):(K.forEach(function(i){return i._onDocumentVisibility()}),On()))}return typeof document<"u"&&document.addEventListener("visibilitychange",r),t}();function Ie(){return!!document&&document.hidden}function I(e){e===void 0&&(e={});var t=0,n=0,r=0,i,s=0,o=null;function l(E){var C=window.Promise&&new Promise(function(y){return o=y});return E.finished=C,C}var a=Yr(e);l(a);function c(){var E=a.direction;E!=="alternate"&&(a.direction=E!=="normal"?"normal":"reverse"),a.reversed=!a.reversed,i.forEach(function(C){return C.reversed=a.reversed})}function u(E){return a.reversed?a.duration-E:E}function f(){t=0,n=u(a.currentTime)*(1/I.speed)}function p(E,C){C&&C.seek(E-C.timelineOffset)}function d(E){if(a.reversePlayback)for(var y=s;y--;)p(E,i[y]);else for(var C=0;C<s;C++)p(E,i[C])}function h(E){for(var C=0,y=a.animations,w=y.length;C<w;){var _=y[C],x=_.animatable,V=_.tweens,H=V.length-1,D=V[H];H&&(D=xt(V,function(jn){return E<jn.end})[0]||D);for(var X=Q(E-D.start-D.delay,0,D.duration)/D.duration,ot=isNaN(X)?1:D.easing(X),Y=D.to.strings,Ht=D.round,Nt=[],In=D.to.numbers.length,lt=void 0,mt=0;mt<In;mt++){var vt=void 0,_e=D.to.numbers[mt],be=D.from.numbers[mt]||0;D.isPath?vt=Fr(D.value,ot*_e,D.isPathTargetInsideSVG):vt=be+ot*(_e-be),Ht&&(D.isColor&&mt>2||(vt=Math.round(vt*Ht)/Ht)),Nt.push(vt)}var ye=Y.length;if(!ye)lt=Nt[0];else{lt=Y[0];for(var _t=0;_t<ye;_t++){Y[_t];var we=Y[_t+1],Rt=Nt[_t];isNaN(Rt)||(we?lt+=Rt+we:lt+=Rt+" ")}}Tn[_.type](x.target,_.property,lt,x.transforms),_.currentValue=lt,C++}}function g(E){a[E]&&!a.passThrough&&a[E](a)}function k(){a.remaining&&a.remaining!==!0&&a.remaining--}function b(E){var C=a.duration,y=a.delay,w=C-a.endDelay,_=u(E);a.progress=Q(_/C*100,0,100),a.reversePlayback=_<a.currentTime,i&&d(_),!a.began&&a.currentTime>0&&(a.began=!0,g("begin")),!a.loopBegan&&a.currentTime>0&&(a.loopBegan=!0,g("loopBegin")),_<=y&&a.currentTime!==0&&h(0),(_>=w&&a.currentTime!==C||!C)&&h(C),_>y&&_<w?(a.changeBegan||(a.changeBegan=!0,a.changeCompleted=!1,g("changeBegin")),g("change"),h(_)):a.changeBegan&&(a.changeCompleted=!0,a.changeBegan=!1,g("changeComplete")),a.currentTime=Q(_,0,C),a.began&&g("update"),E>=C&&(n=0,k(),a.remaining?(t=r,g("loopComplete"),a.loopBegan=!1,a.direction==="alternate"&&c()):(a.paused=!0,a.completed||(a.completed=!0,g("loopComplete"),g("complete"),!a.passThrough&&"Promise"in window&&(o(),l(a)))))}return a.reset=function(){var E=a.direction;a.passThrough=!1,a.currentTime=0,a.progress=0,a.paused=!0,a.began=!1,a.loopBegan=!1,a.changeBegan=!1,a.completed=!1,a.changeCompleted=!1,a.reversePlayback=!1,a.reversed=E==="reverse",a.remaining=a.loop,i=a.children,s=i.length;for(var C=s;C--;)a.children[C].reset();(a.reversed&&a.loop!==!0||E==="alternate"&&a.loop===1)&&a.remaining++,h(a.reversed?a.duration:0)},a._onDocumentVisibility=f,a.set=function(E,C){return An(E,C),a},a.tick=function(E){r=E,t||(t=r),b((r+(n-t))*I.speed)},a.seek=function(E){b(u(E))},a.pause=function(){a.paused=!0,f()},a.play=function(){a.paused&&(a.completed&&a.reset(),a.paused=!1,K.push(a),f(),On())},a.reverse=function(){c(),a.completed=!a.reversed,f()},a.restart=function(){a.reset(),a.play()},a.remove=function(E){var C=ge(E);xn(C,a)},a.reset(),a.autoplay&&a.play(),a}function je(e,t){for(var n=t.length;n--;)le(e,t[n].animatable.target)&&t.splice(n,1)}function xn(e,t){var n=t.animations,r=t.children;je(e,n);for(var i=r.length;i--;){var s=r[i],o=s.animations;je(e,o),!o.length&&!s.children.length&&r.splice(i,1)}!n.length&&!r.length&&t.pause()}function Kr(e){for(var t=ge(e),n=K.length;n--;){var r=K[n];xn(t,r)}}function Qr(e,t){t===void 0&&(t={});var n=t.direction||"normal",r=t.easing?ae(t.easing):null,i=t.grid,s=t.axis,o=t.from||0,l=o==="first",a=o==="center",c=o==="last",u=P.arr(e),f=parseFloat(u?e[0]:e),p=u?parseFloat(e[1]):0,d=nt(u?e[1]:e)||0,h=t.start||0+(u?f:0),g=[],k=0;return function(b,E,C){if(l&&(o=0),a&&(o=(C-1)/2),c&&(o=C-1),!g.length){for(var y=0;y<C;y++){if(!i)g.push(Math.abs(o-y));else{var w=a?(i[0]-1)/2:o%i[0],_=a?(i[1]-1)/2:Math.floor(o/i[0]),x=y%i[0],V=Math.floor(y/i[0]),H=w-x,D=_-V,X=Math.sqrt(H*H+D*D);s==="x"&&(X=-H),s==="y"&&(X=-D),g.push(X)}k=Math.max.apply(Math,g)}r&&(g=g.map(function(Y){return r(Y/k)*k})),n==="reverse"&&(g=g.map(function(Y){return s?Y<0?Y*-1:-Y:Math.abs(k-Y)}))}var ot=u?(p-f)/k:f;return h+ot*(Math.round(g[E]*100)/100)+d}}function Jr(e){e===void 0&&(e={});var t=I(e);return t.duration=0,t.add=function(n,r){var i=K.indexOf(t),s=t.children;i>-1&&K.splice(i,1);function o(p){p.passThrough=!0}for(var l=0;l<s.length;l++)o(s[l]);var a=It(n,Gt(oe,e));a.targets=a.targets||e.targets;var c=t.duration;a.autoplay=!1,a.direction=t.direction,a.timelineOffset=P.und(r)?c:he(r,c),o(t),t.seek(a.timelineOffset);var u=I(a);o(u),s.push(u);var f=Vn(s,e);return t.delay=f.delay,t.endDelay=f.endDelay,t.duration=f.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}I.version="3.2.1";I.speed=1;I.suspendWhenDocumentHidden=!0;I.running=K;I.remove=Kr;I.get=de;I.set=An;I.convertPx=ce;I.path=Rr;I.setDashoffset=Hr;I.stagger=Qr;I.timeline=Jr;I.easing=ae;I.penner=wn;I.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};function He(e){let t,n,r;const i=e[7].default,s=Kt(i,e,e[6],null);return{c(){t=S("div"),s&&s.c(),m(t,"class","svelte-13pqaso")},m(o,l){A(o,t,l),s&&s.m(t,null),r=!0},p(o,l){s&&s.p&&(!r||l&64)&&Jt(s,i,o,o[6],r?Qt(i,o[6],l,null):Xt(o[6]),null)},i(o){r||(M(s,o),kt(()=>{r&&(n||(n=Me(t,Ve,{duration:120},!0)),n.run(1))}),r=!0)},o(o){$(s,o),n||(n=Me(t,Ve,{duration:120},!1)),n.run(0),r=!1},d(o){o&&T(t),s&&s.d(o),o&&n&&n.end()}}}function Xr(e){let t,n,r,i,s,o,l,a,c,u,f,p,d=e[2]&&He(e);return{c(){t=S("div"),n=S("button"),r=B(e[0]),i=O(),s=Ce("svg"),o=Ce("path"),l=O(),d&&d.c(),m(o,"d","M36.4375 8.0625L30.2557 -2.70216e-07L0.437499 29.5L30.2557 59L36.4375 51.5625L15.9375 29.5L36.4375 8.0625Z"),m(o,"fill","currentColor"),m(s,"width","37"),m(s,"height","59"),m(s,"viewBox","0 0 37 59"),m(s,"fill","none"),m(s,"xmlns","http://www.w3.org/2000/svg"),m(s,"class","svelte-13pqaso"),m(n,"class","svelte-13pqaso"),m(t,"class",a="GenericDropdown "+e[5].class+" svelte-13pqaso"),m(t,"id",c=e[5].id)},m(h,g){A(h,t,g),v(t,n),v(n,r),v(n,i),v(n,s),v(s,o),e[8](s),v(t,l),d&&d.m(t,null),e[9](t),u=!0,f||(p=U(n,"click",e[1]),f=!0)},p(h,[g]){(!u||g&1)&&G(r,h[0]),h[2]?d?(d.p(h,g),g&4&&M(d,1)):(d=He(h),d.c(),M(d,1),d.m(t,null)):d&&(it(),$(d,1,1,()=>{d=null}),st()),(!u||g&32&&a!==(a="GenericDropdown "+h[5].class+" svelte-13pqaso"))&&m(t,"class",a),(!u||g&32&&c!==(c=h[5].id))&&m(t,"id",c)},i(h){u||(M(d),u=!0)},o(h){$(d),u=!1},d(h){h&&T(t),e[8](null),d&&d.d(),e[9](null),f=!1,p()}}}function ti(e,t,n){let{$$slots:r={},$$scope:i}=t,{text:s}=t,o=!1,l,a;function c(){n(2,o=!o),I({targets:l,rotate:o?"-90":"0",easing:"easeOutCubic",duration:200})}function u(d){o&&!a.contains(d.target)&&c()}ne(()=>(window.addEventListener("click",u),()=>{window.removeEventListener("click",u)}));function f(d){W[d?"unshift":"push"](()=>{l=d,n(3,l)})}function p(d){W[d?"unshift":"push"](()=>{a=d,n(4,a)})}return e.$$set=d=>{n(5,t=at(at({},t),Mt(d))),"text"in d&&n(0,s=d.text),"$$scope"in d&&n(6,i=d.$$scope)},t=Mt(t),[s,c,o,l,a,t,i,r,f,p]}class ei extends Z{constructor(t){super(),q(this,t,ti,Xr,z,{text:0,toggle:1})}get toggle(){return this.$$.ctx[1]}}function Ne(e,t,n){const r=e.slice();return r[10]=t[n],r[11]=t,r[12]=n,r}function ni(e){let t,n=e[10]+"",r,i=e[10],s,o;function l(){return e[7](e[10])}const a=()=>e[8](t,i),c=()=>e[8](null,i);return{c(){t=S("button"),r=B(n)},m(u,f){A(u,t,f),v(t,r),a(),s||(o=U(t,"click",l),s=!0)},p(u,f){e=u,f&2&&n!==(n=e[10]+"")&&G(r,n),i!==e[10]&&(c(),i=e[10],a())},d(u){u&&T(t),c(),s=!1,o()}}}function ri(e){let t,n=e[10]+"",r,i=e[10],s,o;function l(){return e[5](e[10])}const a=()=>e[6](t,i),c=()=>e[6](null,i);return{c(){t=S("button"),r=B(n),Gn(t,"color","var(--accent-color)")},m(u,f){A(u,t,f),v(t,r),a(),s||(o=U(t,"click",l),s=!0)},p(u,f){e=u,f&2&&n!==(n=e[10]+"")&&G(r,n),i!==e[10]&&(c(),i=e[10],a())},d(u){u&&T(t),c(),s=!1,o()}}}function Re(e){let t;function n(s,o){return s[0]===s[10]?ri:ni}let r=n(e),i=r(e);return{c(){i.c(),t=gt()},m(s,o){i.m(s,o),A(s,t,o)},p(s,o){r===(r=n(s))&&i?i.p(s,o):(i.d(1),i=r(s),i&&(i.c(),i.m(t.parentNode,t)))},d(s){i.d(s),s&&T(t)}}}function ii(e){let t,n=e[1],r=[];for(let i=0;i<n.length;i+=1)r[i]=Re(Ne(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=gt()},m(i,s){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(i,s);A(i,t,s)},p(i,s){if(s&23){n=i[1];let o;for(o=0;o<n.length;o+=1){const l=Ne(i,n,o);r[o]?r[o].p(l,s):(r[o]=Re(l),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(i){ee(r,i),i&&T(t)}}}function si(e){let t,n,r={text:e[0],$$slots:{default:[ii]},$$scope:{ctx:e}};return t=new ei({props:r}),e[9](t),{c(){F(t.$$.fragment)},m(i,s){N(t,i,s),n=!0},p(i,[s]){const o={};s&1&&(o.text=i[0]),s&8199&&(o.$$scope={dirty:s,ctx:i}),t.$set(o)},i(i){n||(M(t.$$.fragment,i),n=!0)},o(i){$(t.$$.fragment,i),n=!1},d(i){e[9](null),R(t,i)}}}function oi(e,t,n){let{options:r=[]}=t,{selected:i=r[0]}=t,s={},o;function l(d){n(0,i=d),o.toggle()}const a=d=>l(d);function c(d,h){W[d?"unshift":"push"](()=>{s[h]=d,n(2,s)})}const u=d=>l(d);function f(d,h){W[d?"unshift":"push"](()=>{s[h]=d,n(2,s)})}function p(d){W[d?"unshift":"push"](()=>{o=d,n(3,o)})}return e.$$set=d=>{"options"in d&&n(1,r=d.options),"selected"in d&&n(0,i=d.selected)},[i,r,s,o,l,a,c,u,f,p]}class ai extends Z{constructor(t){super(),q(this,t,oi,si,z,{options:1,selected:0})}}function li(e){let t;return{c(){t=S("span"),t.textContent="No file selected"},m(n,r){A(n,t,r)},p:L,d(n){n&&T(t)}}}function ui(e){let t,n;return{c(){t=S("span"),n=B(e[0])},m(r,i){A(r,t,i),v(t,n)},p(r,i){i&1&&G(n,r[0])},d(r){r&&T(t)}}}function ci(e){let t,n=e[1][0].name+"",r;return{c(){t=S("span"),r=B(n)},m(i,s){A(i,t,s),v(t,r)},p(i,s){s&2&&n!==(n=i[1][0].name+"")&&G(r,n)},d(i){i&&T(t)}}}function fi(e){let t,n,r,i,s;function o(c,u){return c[1]&&c[1][0]?ci:c[0]?ui:li}let l=o(e),a=l(e);return{c(){t=S("button"),n=S("input"),r=O(),a.c(),m(n,"type","file"),m(n,"class","svelte-23lr19"),m(t,"class","FilePicker svelte-23lr19")},m(c,u){A(c,t,u),v(t,n),e[3](n),v(t,r),a.m(t,null),i||(s=[U(n,"change",e[4]),U(t,"click",e[5])],i=!0)},p(c,[u]){l===(l=o(c))&&a?a.p(c,u):(a.d(1),a=l(c),a&&(a.c(),a.m(t,null)))},i:L,o:L,d(c){c&&T(t),e[3](null),a.d(),i=!1,rt(s)}}}function di(e,t,n){let{initialValue:r=void 0}=t,i,s;const o=sn();function l(u){W[u?"unshift":"push"](()=>{i=u,n(2,i)})}function a(){s=this.files,n(1,s)}const c=()=>i.click();return e.$$set=u=>{"initialValue"in u&&n(0,r=u.initialValue)},e.$$.update=()=>{e.$$.dirty&2&&s&&o("fileChanged",{files:s})},[r,s,i,l,a,c]}class hi extends Z{constructor(t){super(),q(this,t,di,fi,z,{initialValue:0})}}var pt;(e=>{const t="https://echoapi.w1nterish3re.repl.co";async function n(o){let l=await fetch(`${t}/project/user/${o}`);return l.ok?(await l.json()).map(c=>new Te(c)):(console.error(`Failed to get projects of user: ${o}`),[])}e.getProjects=n;async function r(o){let l=await fetch(`${t}/project/${o}`);if(!l.ok){console.log(`Failed to get project with id: ${o}`);return}let a=await l.json();return new Te(a)}e.getProject=r;async function i(o,l){let a=await fetch(`${t}/audio/${o}/${l}`);if(!a.ok){console.log(`Failed to get audio file with name: ${l} from project ${o}`);return}return a.body}e.getAudio=i;function s(o,l){return`${t}/audio/${o}/${l}`}e.getAudioUrl=s})(pt||(pt={}));var Vt;(e=>{e.openedProject=ie()})(Vt||(Vt={}));async function pi(e,t){const n=new AudioContext({sampleRate:t}),r=n.decodeAudioData(e);return r.finally(()=>n.close()),r}function gi(e){const t=e[0];if(t.some(n=>n>1||n<-1)){const n=t.length;let r=0;for(let i=0;i<n;i++){const s=Math.abs(t[i]);s>r&&(r=s)}for(const i of e)for(let s=0;s<n;s++)i[s]/=r}return e}function mi(e,t){return typeof e[0]=="number"&&(e=[e]),gi(e),{duration:t,length:e[0].length,sampleRate:e[0].length/t,numberOfChannels:e.length,getChannelData:n=>e==null?void 0:e[n],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}const Fe={decode:pi,createBuffer:mi};async function vi(e){return fetch(e).then(t=>t.arrayBuffer())}const _i={fetchArrayBuffer:vi};class Et{constructor(){this.listeners={}}on(t,n){return this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),()=>this.un(t,n)}once(t,n){const r=this.on(t,n),i=this.on(t,()=>{r(),i()});return r}un(t,n){this.listeners[t]&&(n?this.listeners[t].delete(n):delete this.listeners[t])}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}}class bi extends Et{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)}onMediaEvent(t,n,r){return this.media.addEventListener(t,n,r),()=>this.media.removeEventListener(t,n)}onceMediaEvent(t,n){return this.onMediaEvent(t,n,{once:!0})}revokeSrc(){(this.media.currentSrc||this.media.src||"").startsWith("blob:")&&URL.revokeObjectURL(this.media.currentSrc)}setSrc(t,n){if((this.media.currentSrc||this.media.src||"")===t)return;this.revokeSrc();const i=n?URL.createObjectURL(new Blob([n],{type:"audio/wav"})):t;this.media.src=i}destroy(){this.media.pause(),this.revokeSrc(),this.isExternalMedia||this.media.remove()}play(){return this.media.play()}pause(){this.media.pause()}isPlaying(){return this.media.currentTime>0&&!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=t}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}setPlaybackRate(t,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}}function Dn(e,t,n,r,i=5){let s=()=>{};if(!e)return s;const o=l=>{l.preventDefault(),l.stopPropagation();let a=l.clientX,c=l.clientY,u=!1;const f=h=>{h.preventDefault(),h.stopPropagation();const g=h.clientX,k=h.clientY;if(u||Math.abs(g-a)>=i||Math.abs(k-c)>=i){u||(u=!0,n==null||n(a,c));const{left:b,top:E}=e.getBoundingClientRect();t(g-a,k-c,g-b,k-E),a=g,c=k}},p=h=>{u&&(h.preventDefault(),h.stopPropagation())};s=()=>{document.removeEventListener("pointermove",f),document.removeEventListener("pointerup",d),setTimeout(()=>{document.removeEventListener("click",p,!0)},10)};const d=()=>{u&&(r==null||r()),s()};document.addEventListener("pointermove",f),document.addEventListener("pointerup",d),document.addEventListener("click",p,!0)};return e.addEventListener("pointerdown",o),()=>{s(),e.removeEventListener("pointerdown",o)}}class jt extends Et{constructor(t){super(),this.timeouts=[],this.isScrolling=!1,this.audioData=null,this.resizeObserver=null,this.isDragging=!1,this.options=t;let n;if(typeof t.container=="string"?n=document.querySelector(t.container):t.container instanceof HTMLElement&&(n=t.container),!n)throw new Error("Container not found");this.parent=n;const[r,i]=this.initHtml();n.appendChild(r),this.container=r,this.scrollContainer=i.querySelector(".scroll"),this.wrapper=i.querySelector(".wrapper"),this.canvasWrapper=i.querySelector(".canvases"),this.progressWrapper=i.querySelector(".progress"),this.cursor=i.querySelector(".cursor"),this.initEvents()}initEvents(){this.wrapper.addEventListener("click",n=>{const r=this.wrapper.getBoundingClientRect(),s=(n.clientX-r.left)/r.width;this.emit("click",s)}),this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:n,scrollWidth:r,clientWidth:i}=this.scrollContainer,s=n/r,o=(n+i)/r;this.emit("scroll",s,o)});const t=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{t(()=>this.reRender())}),this.resizeObserver.observe(this.scrollContainer)}initDrag(){Dn(this.wrapper,(t,n,r)=>{this.emit("drag",Math.max(0,Math.min(1,r/this.wrapper.clientWidth)))},()=>this.isDragging=!0,()=>this.isDragging=!1)}getHeight(){return this.options.height==null?128:isNaN(Number(this.options.height))?this.options.height==="auto"&&this.parent.clientHeight||128:Number(this.options.height)}initHtml(){const t=document.createElement("div"),n=t.attachShadow({mode:"open"});return n.innerHTML=`
      <style>
        :host {
          user-select: none;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight()}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper">
          <div class="canvases"></div>
          <div class="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,n]}setOptions(t){this.options=t,this.reRender()}getWrapper(){return this.wrapper}getScroll(){return this.scrollContainer.scrollLeft}destroy(){var t;this.container.remove(),(t=this.resizeObserver)==null||t.disconnect()}createDelay(t=10){const n={};return this.timeouts.push(n),r=>{n.timeout&&clearTimeout(n.timeout),n.timeout=setTimeout(r,t)}}convertColorValues(t){if(!Array.isArray(t))return t||"";if(t.length<2)return t[0]||"";const n=document.createElement("canvas"),i=n.getContext("2d").createLinearGradient(0,0,0,n.height),s=1/(t.length-1);return t.forEach((o,l)=>{const a=l*s;i.addColorStop(a,o)}),i}renderBars(t,n,r){if(r.fillStyle=this.convertColorValues(n.waveColor),n.renderFunction){n.renderFunction(t,r);return}const i=t[0],s=t[1]||t[0],o=i.length,l=window.devicePixelRatio||1,{width:a,height:c}=r.canvas,u=c/2,f=n.barHeight||1,p=n.barWidth?n.barWidth*l:1,d=n.barGap?n.barGap*l:n.barWidth?p/2:0,h=n.barRadius||0,g=a/(p+d)/o;let k=1;if(n.normalize){k=0;for(let w=0;w<o;w++){const _=Math.abs(i[w]);_>k&&(k=_)}}const b=u/k*f;r.beginPath();let E=0,C=0,y=0;for(let w=0;w<=o;w++){const _=Math.round(w*g);if(_>E){const H=Math.round(C*b),D=Math.round(y*b),X=H+D||1;let ot=u-H;n.barAlign==="top"?ot=0:n.barAlign==="bottom"&&(ot=c-X),r.roundRect(E*(p+d),ot,p,X,h),E=_,C=0,y=0}const x=Math.abs(i[w]||0),V=Math.abs(s[w]||0);x>C&&(C=x),V>y&&(y=V)}r.fill(),r.closePath()}renderSingleCanvas(t,n,r,i,s,o,l,a){const c=window.devicePixelRatio||1,u=document.createElement("canvas"),f=t[0].length;u.width=Math.round(r*(o-s)/f),u.height=i,u.style.width=`${Math.floor(u.width/c)}px`,u.style.height=`${i}px`,u.style.left=`${Math.floor(s*r/c/f)}px`,l.appendChild(u);const p=u.getContext("2d");this.renderBars(t.map(g=>g.slice(s,o)),n,p);const d=u.cloneNode();a.appendChild(d);const h=d.getContext("2d");u.width>0&&u.height>0&&h.drawImage(u,0,0),h.globalCompositeOperation="source-in",h.fillStyle=this.convertColorValues(n.progressColor),h.fillRect(0,0,u.width,u.height)}renderWaveform(t,n,r){const i=document.createElement("div"),s=this.getHeight();i.style.height=`${s}px`,this.canvasWrapper.appendChild(i);const o=i.cloneNode();this.progressWrapper.appendChild(o);const{scrollLeft:l,scrollWidth:a,clientWidth:c}=this.scrollContainer,u=t[0].length,f=u/a,p=Math.min(jt.MAX_CANVAS_WIDTH,c),d=Math.floor(Math.abs(l)*f),h=Math.ceil(d+p*f),g=h-d,k=(w,_)=>{this.renderSingleCanvas(t,n,r,s,Math.max(0,w),Math.min(_,u),i,o)},b=this.createDelay(),E=this.createDelay(),C=(w,_)=>{k(w,_),w>0&&b(()=>{C(w-g,_-g)})},y=(w,_)=>{k(w,_),_<u&&E(()=>{y(w+g,_+g)})};C(d,h),h<u&&y(h,h+g)}render(t){this.timeouts.forEach(l=>l.timeout&&clearTimeout(l.timeout)),this.timeouts=[];const n=window.devicePixelRatio||1,r=this.scrollContainer.clientWidth,i=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrolling=i>r;const s=this.options.fillParent&&!this.isScrolling,o=(s?r:i)*n;if(this.wrapper.style.width=s?"100%":`${i}px`,this.scrollContainer.style.overflowX=this.isScrolling?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.splitChannels)for(let l=0;l<t.numberOfChannels;l++){const a={...this.options,...this.options.splitChannels[l]};this.renderWaveform([t.getChannelData(l)],a,o)}else{const l=[t.getChannelData(0)];t.numberOfChannels>1&&l.push(t.getChannelData(1)),this.renderWaveform(l,this.options,o)}this.audioData=t,this.emit("render")}reRender(){if(!this.audioData)return;const t=this.progressWrapper.clientWidth;this.render(this.audioData);const n=this.progressWrapper.clientWidth;this.scrollContainer.scrollLeft+=n-t}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,n=!1){const{clientWidth:r,scrollLeft:i,scrollWidth:s}=this.scrollContainer,o=s*t,l=r/2,a=n&&this.options.autoCenter&&!this.isDragging?l:r;if(o>i+a||o<i)if(this.options.autoCenter&&!this.isDragging){const c=l/20;o-(i+l)>=c&&o<i+r?this.scrollContainer.scrollLeft+=c:this.scrollContainer.scrollLeft=o-l}else this.isDragging?this.scrollContainer.scrollLeft=o<i?o-10:o-r+10:this.scrollContainer.scrollLeft=o;{const{scrollLeft:c}=this.scrollContainer,u=c/s,f=(c+r)/s;this.emit("scroll",u,f)}}renderProgress(t,n){isNaN(t)||(this.progressWrapper.style.width=`${t*100}%`,this.cursor.style.left=`${t*100}%`,this.cursor.style.marginLeft=Math.round(t*100)===100?`-${this.options.cursorWidth}px`:"",this.isScrolling&&this.options.autoScroll&&this.scrollIntoView(t,n))}}jt.MAX_CANVAS_WIDTH=4e3;class yi extends Et{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}const wi={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class me extends bi{static create(t){return new me(t)}constructor(t){var r,i;super({media:t.media,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.options=Object.assign({},wi,t),this.timer=new yi,this.renderer=new jt(this.options),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const n=this.options.url||((r=this.options.media)==null?void 0:r.currentSrc)||((i=this.options.media)==null?void 0:i.src);n&&this.load(n,this.options.peaks,this.options.duration)}setOptions(t){this.options=Object.assign({},this.options,t),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate)}initPlayerEvents(){this.subscriptions.push(this.onMediaEvent("timeupdate",()=>{const t=this.getCurrentTime();this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),this.emit("timeupdate",t)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",t=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",this.getCurrentTime()),this.emit("click",t))}),this.renderer.on("scroll",(t,n)=>{const r=this.getDuration();this.emit("scroll",t*r,n*r)}),this.renderer.on("render",()=>{this.emit("redraw")}));{let t;this.subscriptions.push(this.renderer.on("drag",n=>{this.options.interact&&(this.renderer.renderProgress(n),clearTimeout(t),t=setTimeout(()=>{this.seekTo(n)},this.isPlaying()?0:200),this.emit("interaction",n*this.getDuration()),this.emit("drag",n))}))}}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{const t=this.getCurrentTime();this.renderer.renderProgress(t/this.getDuration(),!0),this.emit("timeupdate",t),this.emit("audioprocess",t)}))}initPlugins(){var t;(t=this.options.plugins)!=null&&t.length&&this.options.plugins.forEach(n=>{this.registerPlugin(n)})}registerPlugin(t){return t.init(this),this.plugins.push(t),t}getWrapper(){return this.renderer.getWrapper()}getScroll(){return this.renderer.getScroll()}getActivePlugins(){return this.plugins}async load(t,n,r){if(this.decodedData=null,this.emit("load",t),n)this.setSrc(t),r||(r=await new Promise(i=>{this.onceMediaEvent("loadedmetadata",()=>i(this.getMediaElement().duration))})||0),this.decodedData=Fe.createBuffer(n,r);else{const i=await _i.fetchArrayBuffer(t);this.setSrc(t,i),this.decodedData=await Fe.decode(i,this.options.sampleRate)}this.emit("decode",this.getDuration()),this.emit("ready",this.getDuration()),this.renderer.render(this.decodedData)}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}getDuration(){var n;const t=super.getDuration();return t>0&&t<1/0?t:((n=this.decodedData)==null?void 0:n.duration)||0}toggleInteraction(t){this.options.interact=t}seekTo(t){const n=this.getDuration()*t;this.setTime(n)}async playPause(){return this.isPlaying()?this.pause():this.play()}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t()),this.plugins.forEach(t=>t.destroy()),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}class ki extends Et{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}init(t){this.wavesurfer=t,this.onInit()}destroy(){this.subscriptions.forEach(t=>t())}}const St={fadeInStart:0,fadeOutEnd:0,fadeInEnd:0,fadeOutStart:0,lineWidth:4,lineColor:"rgba(0, 0, 255, 0.5)",dragPointSize:10,dragPointFill:"rgba(255, 255, 255, 0.8)",dragPointStroke:"rgba(255, 255, 255, 0.8)"};class Ci extends Et{constructor(t,n){super(),this.top=0,this.padding=t.dragPointSize/2+1;const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("viewBox","0 0 0 0"),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("style","position: absolute; left: 0; top: 0; z-index: 4; pointer-events: none;"),r.setAttribute("part","envelope"),this.svg=r;const i=document.createElementNS("http://www.w3.org/2000/svg","polyline");i.setAttribute("points","0,0 0,0 0,0 0,0"),i.setAttribute("stroke",t.lineColor),i.setAttribute("stroke-width",t.lineWidth),i.setAttribute("fill","none"),i.setAttribute("style","pointer-events: none;"),i.setAttribute("part","polyline"),r.appendChild(i);const s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("stroke","transparent"),s.setAttribute("stroke-width",(t.lineWidth*3).toString()),s.setAttribute("style","cursor: ns-resize; pointer-events: all;"),s.setAttribute("part","line"),r.appendChild(s),[0,1].forEach(()=>{const o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("r",(t.dragPointSize/2).toString()),o.setAttribute("fill",t.dragPointFill),o.setAttribute("stroke",t.dragPointStroke||t.dragPointFill),o.setAttribute("stroke-width","2"),o.setAttribute("style","cursor: ew-resize; pointer-events: all;"),o.setAttribute("part","circle"),r.appendChild(o)}),n.appendChild(r);{const o=c=>{const u=this.top+c,{height:f}=r.viewBox.baseVal;if(u<-.5||u>f)return;const p=Math.min(1,Math.max(0,(f-u)/f));this.emit("line-move",p)},l=(c,u)=>{const p=i.points.getItem(c).x+u,{width:d}=r.viewBox.baseVal;this.emit("point-move",c,p/d)};this.makeDraggable(s,(c,u)=>o(u));const a=this.svg.querySelectorAll("circle");Array.from(a).forEach((c,u)=>{this.makeDraggable(c,f=>l(u+1,f))})}}makeDraggable(t,n){Dn(t,n)}update({x1:t,x2:n,x3:r,x4:i,y:s}){const o=this.svg.clientWidth,l=this.svg.clientHeight;this.top=l-s*l;const a=Math.max(this.padding,Math.min(this.top,l-this.padding));this.svg.setAttribute("viewBox",`0 0 ${o} ${l}`);const c=this.svg.querySelector("polyline"),{points:u}=c;u.getItem(0).x=t*o,u.getItem(0).y=l,u.getItem(1).x=n*o,u.getItem(1).y=a,u.getItem(2).x=r*o,u.getItem(2).y=a,u.getItem(3).x=i*o,u.getItem(3).y=l;const f=this.svg.querySelector("line");f.setAttribute("x1",u.getItem(1).x.toString()),f.setAttribute("x2",u.getItem(2).x.toString()),f.setAttribute("y1",a.toString()),f.setAttribute("y2",a.toString());const p=this.svg.querySelectorAll("circle");Array.from(p).forEach((d,h)=>{const g=u.getItem(h+1);d.setAttribute("cx",g.x.toString()),d.setAttribute("cy",g.y.toString())})}destroy(){this.svg.remove()}}class ve extends ki{constructor(t){super(t),this.polyline=null,this.audioContext=null,this.gainNode=null,this.volume=1,this.isFadingIn=!1,this.isFadingOut=!1,this.naturalVolumeExponent=1.5,this.options=Object.assign({},St,t),this.options.lineColor=this.options.lineColor||St.lineColor,this.options.dragPointFill=this.options.dragPointFill||St.dragPointFill,this.options.dragPointStroke=this.options.dragPointStroke||St.dragPointStroke,this.volume=this.options.volume??1}static create(t){return new ve(t)}destroy(){var t;(t=this.polyline)==null||t.destroy(),super.destroy()}onInit(){if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");this.initWebAudio(),this.initSvg(),this.initFadeEffects(),this.subscriptions.push(this.wavesurfer.on("redraw",()=>{var n;const t=(n=this.wavesurfer)==null?void 0:n.getDuration();t&&(this.options.fadeInStart=this.options.fadeInStart||0,this.options.fadeOutEnd=this.options.fadeOutEnd||t,this.options.fadeInEnd=this.options.fadeInEnd||this.options.fadeInStart,this.options.fadeOutStart=this.options.fadeOutStart||this.options.fadeOutEnd,this.renderPolyline())}))}initSvg(){if(!this.wavesurfer)return;const t=this.wavesurfer.getWrapper();this.polyline=new Ci(this.options,t),this.subscriptions.push(this.polyline.on("line-move",n=>{this.setVolume(this.naturalVolume(n))}),this.polyline.on("point-move",(n,r)=>{var o;const i=((o=this.wavesurfer)==null?void 0:o.getDuration())||0,s=r*i;if(n===1){if(s<this.options.fadeInStart||s>this.options.fadeOutStart)return;this.options.fadeInEnd=s,this.emit("fade-in-change",s)}else if(n===2){if(s>this.options.fadeOutEnd||s<this.options.fadeInEnd)return;this.options.fadeOutStart=s,this.emit("fade-out-change",s)}this.renderPolyline()}))}renderPolyline(){if(!this.polyline||!this.wavesurfer)return;const t=this.wavesurfer.getDuration();t&&this.polyline.update({x1:this.options.fadeInStart/t,x2:this.options.fadeInEnd/t,x3:this.options.fadeOutStart/t,x4:this.options.fadeOutEnd/t,y:this.invertNaturalVolume(this.volume)})}initWebAudio(){var i;const t=(i=this.wavesurfer)==null?void 0:i.getMediaElement();if(!t)return null;this.volume=this.options.volume??t.volume;const n=new window.AudioContext;this.gainNode=n.createGain(),this.setGainValue(),n.createMediaElementSource(t).connect(this.gainNode),this.gainNode.connect(n.destination),this.audioContext=n}invertNaturalVolume(t){return Math.pow((t-1e-4)/.9999,1/this.naturalVolumeExponent)}naturalVolume(t){return 1e-4+.9999*Math.pow(t,this.naturalVolumeExponent)}setGainValue(){this.gainNode&&(this.gainNode.gain.value=this.volume)}initFadeEffects(){if(!this.audioContext||!this.wavesurfer)return;const t=this.wavesurfer.on("timeupdate",n=>{var i;if(!this.audioContext||!this.gainNode||!((i=this.wavesurfer)!=null&&i.isPlaying()))return;if(this.audioContext.state==="suspended"&&this.audioContext.resume(),!this.isFadingIn&&n>=this.options.fadeInStart&&n<=this.options.fadeInEnd){this.isFadingIn=!0,this.gainNode.gain.setValueAtTime(0,this.audioContext.currentTime),this.gainNode.gain.linearRampToValueAtTime(this.volume,this.audioContext.currentTime+(this.options.fadeInEnd-n));return}if(!this.isFadingOut&&n>=this.options.fadeOutStart&&n<=this.options.fadeOutEnd){this.isFadingOut=!0,this.gainNode.gain.setValueAtTime(this.volume,this.audioContext.currentTime),this.gainNode.gain.linearRampToValueAtTime(0,this.audioContext.currentTime+(this.options.fadeOutEnd-n));return}let r=!1;this.isFadingIn&&(n<this.options.fadeInStart||n>this.options.fadeInEnd)&&(this.isFadingIn=!1,r=!0),this.isFadingOut&&(n<this.options.fadeOutStart||n>=this.options.fadeOutEnd)&&(this.isFadingOut=!1,r=!0),r&&(this.gainNode.gain.cancelScheduledValues(this.audioContext.currentTime),this.setGainValue())});this.subscriptions.push(t)}getCurrentVolume(){return this.gainNode?this.gainNode.gain.value:this.volume}setStartTime(t,n=!1){if(n){const r=this.options.fadeInEnd-this.options.fadeInStart;this.options.fadeInEnd=t+r}this.options.fadeInStart=t,this.renderPolyline()}setEndTime(t,n=!1){if(n){const r=this.options.fadeOutEnd-this.options.fadeOutStart;this.options.fadeOutStart=t-r}this.options.fadeOutEnd=t,this.renderPolyline()}setVolume(t){this.volume=t,this.setGainValue(),this.renderPolyline(),this.emit("volume-change",t)}}function Ei(e){let t,n,r;return{c(){t=S("input"),m(t,"type","text"),m(t,"class","svelte-1do2v4t")},m(i,s){A(i,t,s),Ee(t,e[0].displayName),n||(r=U(t,"input",e[3]),n=!0)},p(i,s){s&1&&t.value!==i[0].displayName&&Ee(t,i[0].displayName)},d(i){i&&T(t),n=!1,r()}}}function We(e){let t,n;return t=new hi({props:{initialValue:e[0].source.file}}),{c(){F(t.$$.fragment)},m(r,i){N(t,r,i),n=!0},p(r,i){const s={};i&1&&(s.initialValue=r[0].source.file),t.$set(s)},i(r){n||(M(t.$$.fragment,r),n=!0)},o(r){$(t.$$.fragment,r),n=!1},d(r){R(t,r)}}}function Si(e){let t,n,r,i,s,o;function l(u){e[4](u)}let a={options:Array.from(mr.keys())};e[0].source.type!==void 0&&(a.selected=e[0].source.type),n=new ai({props:a}),W.push(()=>hn(n,"selected",l));let c=e[0].source.type===Ut.File&&We(e);return{c(){t=S("div"),F(n.$$.fragment),i=O(),s=S("div"),c&&c.c(),m(s,"id","audio-source-details"),m(s,"class","svelte-1do2v4t"),m(t,"id","audio-source"),m(t,"class","svelte-1do2v4t")},m(u,f){A(u,t,f),N(n,t,null),v(t,i),v(t,s),c&&c.m(s,null),o=!0},p(u,f){const p={};!r&&f&1&&(r=!0,p.selected=u[0].source.type,un(()=>r=!1)),n.$set(p),u[0].source.type===Ut.File?c?(c.p(u,f),f&1&&M(c,1)):(c=We(u),c.c(),M(c,1),c.m(s,null)):c&&(it(),$(c,1,1,()=>{c=null}),st())},i(u){o||(M(n.$$.fragment,u),M(c),o=!0)},o(u){$(n.$$.fragment,u),$(c),o=!1},d(u){u&&T(t),R(n),c&&c.d()}}}function Pi(e){let t,n,r,i,s,o,l,a,c,u,f,p,d;return a=new Ae({props:{propName:"Name",$$slots:{default:[Ei]},$$scope:{ctx:e}}}),u=new Ae({props:{propName:"Audio Source",$$slots:{default:[Si]},$$scope:{ctx:e}}}),{c(){t=S("div"),n=S("div"),r=O(),i=S("div"),s=S("div"),o=S("h3"),o.textContent="Properties",l=O(),F(a.$$.fragment),c=O(),F(u.$$.fragment),f=O(),p=S("div"),p.innerHTML='<h3 class="svelte-1do2v4t">Advanced Settings</h3>',m(n,"id","waveform"),m(n,"class","svelte-1do2v4t"),m(o,"class","svelte-1do2v4t"),m(s,"id","properties"),m(s,"class","middleground svelte-1do2v4t"),m(p,"id","property-details"),m(p,"class","middleground svelte-1do2v4t"),m(i,"id","editor"),m(i,"class","svelte-1do2v4t"),m(t,"class","SoundCueDetails svelte-1do2v4t")},m(h,g){A(h,t,g),v(t,n),e[2](n),v(t,r),v(t,i),v(i,s),v(s,o),v(s,l),N(a,s,null),v(s,c),N(u,s,null),v(i,f),v(i,p),d=!0},p(h,[g]){const k={};g&65&&(k.$$scope={dirty:g,ctx:h}),a.$set(k);const b={};g&65&&(b.$$scope={dirty:g,ctx:h}),u.$set(b)},i(h){d||(M(a.$$.fragment,h),M(u.$$.fragment,h),d=!0)},o(h){$(a.$$.fragment,h),$(u.$$.fragment,h),d=!1},d(h){h&&T(t),e[2](null),R(a),R(u)}}}function Mi(e,t,n){let{cue:r}=t,i;function s(){n(1,i.innerHTML="",i);const c=getComputedStyle(i).getPropertyValue("--wave-color"),u=getComputedStyle(i).getPropertyValue("--wave-color-complete");me.create({container:i,waveColor:c,progressColor:u,url:pt.getAudioUrl(Wn(Vt.openedProject),r.source.file),height:"auto",barWidth:2,barGap:2,barRadius:8}).registerPlugin(ve.create({fadeInEnd:2,volume:r.volume}))}rn(s);function o(c){W[c?"unshift":"push"](()=>{i=c,n(1,i)})}function l(){r.displayName=this.value,n(0,r)}function a(c){e.$$.not_equal(r.source.type,c)&&(r.source.type=c,n(0,r))}return e.$$set=c=>{"cue"in c&&n(0,r=c.cue)},[r,i,o,l,a]}class Li extends Z{constructor(t){super(),q(this,t,Mi,Pi,z,{cue:0})}}function Be(e,t,n){const r=e.slice();return r[3]=t[n],r}function ze(e){let t,n,r=e[3].displayName+"",i,s,o,l;function a(){return e[2](e[3])}return{c(){t=S("button"),n=S("span"),i=B(r),s=O(),m(n,"class","svelte-1aygmgv"),m(t,"class","svelte-1aygmgv")},m(c,u){A(c,t,u),v(t,n),v(n,i),v(t,s),o||(l=U(t,"click",a),o=!0)},p(c,u){e=c,u&1&&r!==(r=e[3].displayName+"")&&G(i,r)},d(c){c&&T(t),o=!1,l()}}}function qe(e){let t,n;return t=new Li({props:{cue:e[1]}}),{c(){F(t.$$.fragment)},m(r,i){N(t,r,i),n=!0},p(r,i){const s={};i&2&&(s.cue=r[1]),t.$set(s)},i(r){n||(M(t.$$.fragment,r),n=!0)},o(r){$(t.$$.fragment,r),n=!1},d(r){R(t,r)}}}function $i(e){let t,n,r,i,s,o,l,a;r=new vn({});let c=e[0],u=[];for(let p=0;p<c.length;p+=1)u[p]=ze(Be(e,c,p));let f=e[1]!==void 0&&qe(e);return{c(){t=S("main"),n=S("div"),F(r.$$.fragment),i=O(),s=S("div");for(let p=0;p<u.length;p+=1)u[p].c();o=O(),l=S("div"),f&&f.c(),m(s,"id","sound-cues-list"),m(s,"class","middleground svelte-1aygmgv"),m(n,"id","sound-cues"),m(n,"class","svelte-1aygmgv"),m(l,"id","editor"),m(l,"class","svelte-1aygmgv"),m(t,"class","SoundCuesTab svelte-1aygmgv")},m(p,d){A(p,t,d),v(t,n),N(r,n,null),v(n,i),v(n,s);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(s,null);v(t,o),v(t,l),f&&f.m(l,null),a=!0},p(p,[d]){if(d&3){c=p[0];let h;for(h=0;h<c.length;h+=1){const g=Be(p,c,h);u[h]?u[h].p(g,d):(u[h]=ze(g),u[h].c(),u[h].m(s,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=c.length}p[1]!==void 0?f?(f.p(p,d),d&2&&M(f,1)):(f=qe(p),f.c(),M(f,1),f.m(l,null)):f&&(it(),$(f,1,1,()=>{f=null}),st())},i(p){a||(M(r.$$.fragment,p),M(f),a=!0)},o(p){$(r.$$.fragment,p),$(f),a=!1},d(p){p&&T(t),R(r),ee(u,p),f&&f.d()}}}function Ti(e,t,n){let{soundcues:r=[]}=t,i;const s=o=>n(1,i=o);return e.$$set=o=>{"soundcues"in o&&n(0,r=o.soundcues)},[r,i,s]}class Ai extends Z{constructor(t){super(),q(this,t,Ti,$i,z,{soundcues:0})}}function Vi(e){let t,n,r=e[4]+"",i;return{c(){t=S("p"),n=B("Error: "),i=B(r)},m(s,o){A(s,t,o),v(t,n),v(t,i)},p(s,o){o&1&&r!==(r=s[4]+"")&&G(i,r)},i:L,o:L,d(s){s&&T(t)}}}function Oi(e){let t,n,r=e[1]===0&&Ze(e);return{c(){r&&r.c(),t=gt()},m(i,s){r&&r.m(i,s),A(i,t,s),n=!0},p(i,s){i[1]===0?r?(r.p(i,s),s&2&&M(r,1)):(r=Ze(i),r.c(),M(r,1),r.m(t.parentNode,t)):r&&(it(),$(r,1,1,()=>{r=null}),st())},i(i){n||(M(r),n=!0)},o(i){$(r),n=!1},d(i){r&&r.d(i),i&&T(t)}}}function Ze(e){let t,n;return t=new Ai({props:{soundcues:e[3].sound_cues}}),{c(){F(t.$$.fragment)},m(r,i){N(t,r,i),n=!0},p(r,i){const s={};i&1&&(s.soundcues=r[3].sound_cues),t.$set(s)},i(r){n||(M(t.$$.fragment,r),n=!0)},o(r){$(t.$$.fragment,r),n=!1},d(r){R(t,r)}}}function xi(e){return{c:L,m:L,p:L,i:L,o:L,d:L}}function Di(e){let t,n,r,i,s,o,l;function a(f){e[2](f)}let c={};e[1]!==void 0&&(c.selected=e[1]),n=new gr({props:c}),W.push(()=>hn(n,"selected",a));let u={ctx:e,current:null,token:null,hasCatch:!0,pending:xi,then:Oi,catch:Vi,value:3,error:4,blocks:[,,,]};return Zt(o=pt.getProject(e[0].id),u),{c(){t=S("main"),F(n.$$.fragment),i=O(),s=S("div"),u.block.c(),m(s,"id","content"),m(s,"class","svelte-3xn2wt"),m(t,"class","ProjectDetails svelte-3xn2wt")},m(f,p){A(f,t,p),N(n,t,null),v(t,i),v(t,s),u.block.m(s,u.anchor=null),u.mount=()=>s,u.anchor=null,l=!0},p(f,[p]){e=f;const d={};!r&&p&2&&(r=!0,d.selected=e[1],un(()=>r=!1)),n.$set(d),u.ctx=e,p&1&&o!==(o=pt.getProject(e[0].id))&&Zt(o,u)||cn(u,e,p)},i(f){l||(M(n.$$.fragment,f),M(u.block),l=!0)},o(f){$(n.$$.fragment,f);for(let p=0;p<3;p+=1){const d=u.blocks[p];$(d)}l=!1},d(f){f&&T(t),R(n),u.block.d(),u.token=null,u=null}}}function Ii(e,t,n){let r=0,{params:i={}}=t;ne(()=>{Vt.openedProject.set(i.id)});function s(o){r=o,n(1,r)}return e.$$set=o=>{"params"in o&&n(0,i=o.params)},[i,r,s]}class ji extends Z{constructor(t){super(),q(this,t,Ii,Di,z,{params:0})}}function Hi(e){let t;return{c(){t=S("div"),t.innerHTML='<div class="indeterminate-progress-bar__progress svelte-5fzyt3"></div>',m(t,"class","indeterminate-progress-bar svelte-5fzyt3")},m(n,r){A(n,t,r)},p:L,i:L,o:L,d(n){n&&T(t)}}}class Ni extends Z{constructor(t){super(),q(this,t,null,Hi,z,{})}}function Ri(e){let t,n,r=e[0].title+"",i,s,o,l=e[0].description+"",a,c;return{c(){t=S("a"),n=S("h3"),i=B(r),s=O(),o=S("p"),a=B(l),m(n,"class","svelte-137aam9"),m(o,"class","svelte-137aam9"),m(t,"class","project-card svelte-137aam9"),m(t,"href",c="#/project/"+e[0].project_id)},m(u,f){A(u,t,f),v(t,n),v(n,i),v(t,s),v(t,o),v(o,a)},p(u,[f]){f&1&&r!==(r=u[0].title+"")&&G(i,r),f&1&&l!==(l=u[0].description+"")&&G(a,l),f&1&&c!==(c="#/project/"+u[0].project_id)&&m(t,"href",c)},i:L,o:L,d(u){u&&T(t)}}}function Fi(e,t,n){let{project:r}=t;return e.$$set=i=>{"project"in i&&n(0,r=i.project)},[r]}class Wi extends Z{constructor(t){super(),q(this,t,Fi,Ri,z,{project:0})}}function Ue(e,t,n){const r=e.slice();return r[1]=t[n],r}function Bi(e){let t;return{c(){t=S("button"),t.textContent="New Project",m(t,"id","new-project-button"),m(t,"class","svelte-1tvtk80")},m(n,r){A(n,t,r)},p:L,d(n){n&&T(t)}}}function zi(e){let t=e[4]+"",n;return{c(){n=B(t)},m(r,i){A(r,n,i)},p:L,i:L,o:L,d(r){r&&T(n)}}}function qi(e){let t,n,r=e[0],i=[];for(let o=0;o<r.length;o+=1)i[o]=Ge(Ue(e,r,o));const s=o=>$(i[o],1,1,()=>{i[o]=null});return{c(){t=S("div");for(let o=0;o<i.length;o+=1)i[o].c();m(t,"id","content"),m(t,"class","svelte-1tvtk80")},m(o,l){A(o,t,l);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(t,null);n=!0},p(o,l){if(l&0){r=o[0];let a;for(a=0;a<r.length;a+=1){const c=Ue(o,r,a);i[a]?(i[a].p(c,l),M(i[a],1)):(i[a]=Ge(c),i[a].c(),M(i[a],1),i[a].m(t,null))}for(it(),a=r.length;a<i.length;a+=1)s(a);st()}},i(o){if(!n){for(let l=0;l<r.length;l+=1)M(i[l]);n=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)$(i[l]);n=!1},d(o){o&&T(t),ee(i,o)}}}function Ge(e){let t,n;return t=new Wi({props:{project:e[1]}}),{c(){F(t.$$.fragment)},m(r,i){N(t,r,i),n=!0},p:L,i(r){n||(M(t.$$.fragment,r),n=!0)},o(r){$(t.$$.fragment,r),n=!1},d(r){R(t,r)}}}function Zi(e){let t,n,r;return n=new Ni({}),{c(){t=S("div"),F(n.$$.fragment),m(t,"id","centered-container"),m(t,"class","svelte-1tvtk80")},m(i,s){A(i,t,s),N(n,t,null),r=!0},p:L,i(i){r||(M(n.$$.fragment,i),r=!0)},o(i){$(n.$$.fragment,i),r=!1},d(i){i&&T(t),R(n)}}}function Ui(e){let t,n,r,i,s;n=new vn({props:{title:"Projects",subTitle:"Echo",$$slots:{default:[Bi]},$$scope:{ctx:e}}});let o={ctx:e,current:null,token:null,hasCatch:!0,pending:Zi,then:qi,catch:zi,value:0,error:4,blocks:[,,,]};return Zt(pt.getProjects("AYJ"),o),{c(){t=S("main"),F(n.$$.fragment),r=O(),i=S("div"),o.block.c(),m(i,"class","middleground svelte-1tvtk80"),m(t,"id","project-list"),m(t,"class","svelte-1tvtk80")},m(l,a){A(l,t,a),N(n,t,null),v(t,r),v(t,i),o.block.m(i,o.anchor=null),o.mount=()=>i,o.anchor=null,s=!0},p(l,[a]){e=l;const c={};a&32&&(c.$$scope={dirty:a,ctx:e}),n.$set(c),cn(o,e,a)},i(l){s||(M(n.$$.fragment,l),M(o.block),s=!0)},o(l){$(n.$$.fragment,l);for(let a=0;a<3;a+=1){const c=o.blocks[a];$(c)}s=!1},d(l){l&&T(t),R(n),o.block.d(),o.token=null,o=null}}}class Gi extends Z{constructor(t){super(),q(this,t,null,Ui,z,{})}}function Yi(e){let t,n,r;return n=new dr({props:{routes:e[0]}}),{c(){t=S("main"),F(n.$$.fragment)},m(i,s){A(i,t,s),N(n,t,null),r=!0},p:L,i(i){r||(M(n.$$.fragment,i),r=!0)},o(i){$(n.$$.fragment,i),r=!1},d(i){i&&T(t),R(n)}}}function Ki(e){return[{"/":Gi,"/project/:id":ji}]}class Qi extends Z{constructor(t){super(),q(this,t,Ki,Yi,z,{})}}new Qi({target:document.getElementById("app")});
